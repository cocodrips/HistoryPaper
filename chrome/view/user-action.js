// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var change, controller, now;
    controller = new HistoryController();
    now = new Date();
    controller.firstDate();
    $('#date').on('change', function() {
      return change();
    });
    $('#cluster_num').on('change', function() {
      return change();
    });
    return change = function() {
      var cluster_num, date;
      date = $('#date').val();
      if (date === "") {
        date = now;
      }
      cluster_num = $('#cluster_num').val();
      if (Date.parse(now) >= Date.parse(date)) {
        return controller.changeDate(date, cluster_num);
      } else {
        return console.log("We can't analyze your future.");
      }
    };
  });

}).call(this);
