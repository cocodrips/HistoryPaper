// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var change, controller;
    controller = new HistoryController();
    controller.firstDate();
    $('#date').on('change', function() {
      return change();
    });
    $('#cluster_num').on('change', function() {
      return change();
    });
    $('input[name="tech"]').on('change', function() {
      return change();
    });
    return change = function() {
      var cluster_num, date, now, t, tech_type, _i, _len, _ref;
      date = $('#date').val();
      if (date === "") {
        date = new Date();
      }
      cluster_num = $('#cluster_num').val();
      tech_type = 2;
      _ref = $('input[name="tech"]');
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        t = _ref[_i];
        if (t.checked) {
          tech_type = t.value;
        }
      }
      console.log("tec", tech_type);
      now = new Date();
      if (Date.parse(now) >= Date.parse(date)) {
        return controller.changeDate(date, cluster_num, tech_type);
      } else {
        return console.log("We can't analyze your future.");
      }
    };
  });

}).call(this);
